function RenderSeriesTypeView(){var n,t;isMobile()?(n='<div class="container"><div class="cards">',currentSeriesTypeViewDataM.forEach(function(t){n+='<div class="cardM"><div class="movie-detail-wrapper" data-movieId="'+t.Id+'"><div class="movie-detail"><img data-src="Imgs/Series/poster-'+t.Id+'.jpg" data-movieId="'+t.Id+'" class="movie-cover lazy" alt="Loading poster ..." title="'+t.FN+'"><\/div><\/div><\/div>'},this),n+="<\/div><\/div>"):($(this).addClass("selected-subSection"),n='<table id="seriesHeaderTable" class="tableWrapper"><tr class="headerRow"><td style="width: 30px;"><\/td><td>Series name<\/br>/ Episode title<\/td><td class="markerCol"><\/td><td class="detailCell w100">Recommended<\/td><td class="detailCell w80">Quality<\/td><td class="detailCell w100">Size<\/td><td class="detailCell w100">Audio<\/td><td class="detailCell w125">Year<\/td><td class="detailCell w125">No. of episodes / Theme<\/td><\/tr><\/table><div class="detailsTableWrapper"><table id="seriesMainTable" class="tableWrapper">',t=0,currentSeriesTypeViewDataM.forEach(function(i){var f,r,u,e;t++;f=i.DL!=null?i.DL:"www.imdb.com";r=i.N!=""?i.N+"\n":"";r+="Click for details ... (external link!)";u=t%2==0?" alternateRow":"";e=i.DifferentAudio?'style="color: red; cursor: help;" title="Exista episoade cu diferente in track-urile audio (ex. nu sunt dublate Ro)"':"";n+='<tr class="seriesLine noselect lineWithDetails'+u+'"><td class="markerCol"><div class="markerSymbol serialExpander collapsed" data-serialId="'+i.Id+'" alt=">"><\/div><\/td><td>'+i.FN+'<\/td><td class="detailCell w25"><a href="'+f+'" target="_blank" title="'+r+'"><img src="Images\\info.png" class="infoSign" alt="i"><\/a><\/td><td class="detailCell w100">'+(i.R!=""?i.RL!=""?"<a class='recommended recommendedWithLink' title='Recomandat: "+i.R+"\nClick for details ... (external link!)' href='"+i.RL+"' target='_blank'>"+getRecommendedVal(i.R)+"<\/a>":"<div class='recommended'title='Recomandat: "+i.R+"'>"+getRecommendedVal(i.R)+"<\/div>":"<div class='recommended' title='Recomandare necunoscuta'>?<\/div>")+'<\/td><td class="detailCell w80">'+i.Q+'<\/td><td class="detailCell w100">'+i.S+' GB<\/td><td class="detailCell w100" '+e+">"+i.A+'<\/td><td class="detailCell w125">'+i.Y+'<\/td><td class="detailCell w125">'+i.Ec+'<\/td><\/tr><tr class="detailSerieLine '+u+'" data-serialId="'+i.Id+'" style="display: none;"><td style="width: 30px;"><\/td><td id="detailSerie-inner'+i.Id+'" colspan="8"><\/td><\/tr>'}),n+="<\/table><\/div>");$(".about-message-img").css("display","none");$("#sections-wrapper").html(n);setTimeout(function(){if(isMobile())RebindSeriesEventsM(),$("#sections-wrapper .lazy").lazy({appendScroll:$("#sections-wrapper"),onError:function(n){var i=$(n).data("movieid"),r=$('.movie-detail-wrapper[data-movieid="'+i+'"] .movie-detail:first'),t;r.html($("#posterNotFound").html());t=$.grep(moviesInSection,function(n){return n.Id==i});r.find(".movieTitle-posterNotFound:first").text(t.length!=1?"Error retrieving movie title!":t[0].FN)},throttle:250});else{RebindSeriesEvents();var n=window.innerHeight-$(".master-toolbar").outerHeight()-$("footer").height()-$("#seriesHeaderTable").height();$(".detailsTableWrapper").height(n);$(".detailsTableWrapper").slimScroll({height:n});$("#sections-wrapper").slimScroll({height:$("#sections-wrapper").height()})}},100);CloseSideNav()}function RebindSeriesEvents(){$(".serialExpander").off("click").on("click",function(n){n.stopPropagation();ToggleExpandSeries($(this))});$(".sezonExpander").off("click").on("click",function(n){n.stopPropagation();ToggleExpandSezon($(this))});$(".seriesLine.lineWithDetails").off("click").on("click",function(){ToggleExpandSeries($(this).find(".markerSymbol"))});$(".seasonLine.lineWithDetails").off("click").on("click",function(){ToggleExpandSezon($(this).find(".markerSymbol"))});$(".movieStillDisplay").off("click").on("click",function(n){var u;if(n.stopPropagation(),n.ctrlKey)$(this).closest("table").find(".thRow").each(function(){$(this).css("display","none")});else{var i=$(this).closest("tr"),t=i.data("episodeid"),r=$("#th-"+t);r.length>0?$(r).css("display")=="none"?$(r).css("display","table-row"):$(r).css("display","none"):(u='<tr id="th-'+t+'" class="thRow" style="display: table-row;" data-serialId="'+i.data("serialid")+'" data-sezon="'+i.data("sezon")+'" ><td style="width: 30px;"><\/td><td colspan="8"><table class="thumbnails-wrapper"><tr><td class="thumbnailStillCell"><img src="Imgs\\Series\\Thumbnails\\thumb-'+t+'-0.jpg" alt="?"><\/td><td class="thumbnailStillCell"><img src="Imgs\\Series\\Thumbnails\\thumb-'+t+'-1.jpg" alt="?"><\/td><td class="thumbnailStillCell"><img src="Imgs\\Series\\Thumbnails\\thumb-'+t+'-2.jpg" alt="?"><\/td><\/tr><\/table><\/td><\/tr>',$(i).after(u))}})}function RebindSeriesEventsM(){var n=function(){$(".detailLine").height($(".detailLine-wrapper").height())};$(".cardM").off("click").on("click",function(){var t=$(this).children().data("movieid"),e,i;if($(".cardM").removeClass("selectedCard"),$(".detailLine[data-movieid='"+t+"']").length>0)$(".detailLine").remove();else{$(".detailLine").remove();$(this).addClass("selectedCard");var o=$(this).offset().top,s=$(this).parent().find(".cardM:visible"),r=$.grep(s,function(n){return $(n).offset().top==o}),h=r[r.length-1],c=r.length*$(".cardM").outerWidth(!0),l=$.grep(currentSeriesTypeViewDataM,function(n){return n.Id==t}),u=l[0],f=[];unique($.grep(currentSeriesTypeViewDataD,function(n){return n.SId==t}).map(function(n){return n.SZ})).forEach(function(n){f.push({SeasonId:n,SeasonName:isNumeric(n)?"Season "+n:n})});e=f.sort((n,t)=>n.SeasonName.localeCompare(t.SeasonName,undefined,{numeric:!0,sensitivity:"base"}));i="<div class='detailLine' data-movieId='"+t+"' style='height: 0;'><table class='detailLine-wrapper' style='min-width: 0px; width: "+c+"px; border: none; border-collapse: collapse;'><tr><td colspan=2><table style='width: 100%; border-collapse: collapse;'><tr class='series-title-row-m'><td class='title' style='width: 100%;'>"+u.FN+"<\/td><td class='series-quality-m'>"+u.Q+"<\/td><td class='recommended-cell'><div class='recommended-m' style='font-size: 16px'>"+getRecommendedVal(u.R)+"<\/div><\/td><\/tr> <\/table><\/td><\/tr>";e.forEach(function(n){i+="<tr><td class='season-cell-m' colspan=2>"+n.SeasonName+"<\/td><\/tr>";var r=$.grep(currentSeriesTypeViewDataD,function(i){return i.SId==t&&i.SZ==n.SeasonId});r.forEach(function(n){i+="<tr><td class='episode-title-cell-m' data-episodeId='"+n.Id+"'>"+n.FN+(n.T=="Christmas"?" ðŸŽ…":n.T=="Helloween"?" ðŸŽƒ":"")+"<\/td><td class='episodes-audio-m'>"+n.A+"<\/td><\/tr>"})});i+="<\/table><\/div>";$(h).after(i);setTimeout(function(){n();$(".episode-title-cell-m").on("click",function(){var t=$(this).data("episodeid"),r=$(this).parent(),i,u;$(".detailLine-wrapper tr").removeClass("episodeDetailExpanded");$(".episode-details-open").removeClass("episode-details-open");$(".episodeDetails[data-episodeid='"+t+"']").length>0?($(".episodeDetails").remove(),n()):($(".episodeDetails").remove(),i=$.grep(currentSeriesTypeViewDataD,function(n){return n.Id==t})[0],u="<tr class='episodeDetails' data-episodeid='"+t+"'><td colspan=2><table style='width: 100%;'><tr><td>Year: "+i.Y+"<\/br>Quality: "+i.Q+"<\/br>Duration: "+i.L+"<\/br>Size: "+i.S+"<\/br><\/td><td style='width: 500px;'><div class='screenshots-wrapper owl-carousel owl-theme' style=''><div class='parentVertAlign'><img class='forceVertAlign' src=\"Imgs\\Series\\Thumbnails\\thumb-"+t+"-0.jpg\" alt=\"?\"><\/div><div class='parentVertAlign'><img class='forceVertAlign' src=\"Imgs\\Series\\Thumbnails\\thumb-"+t+"-1.jpg\" alt=\"?\"><\/div><div class='parentVertAlign'><img class='forceVertAlign' src=\"Imgs\\Series\\Thumbnails\\thumb-"+t+'-2.jpg" alt="?"><\/div><\/td><\/tr> <\/table><\/td><\/tr>',$(r).after(u),$(r).addClass("episodeDetailExpanded"),$(this).addClass("episode-details-open"),setTimeout(function(){n()},50),$(".screenshots-wrapper").owlCarousel({margin:10,nav:!0,navText:["<div class='nav-btn prev-slide'><\/div>","<div class='nav-btn next-slide'><\/div>"],responsive:{0:{items:1},600:{items:1},1e3:{items:1}}}))})},100)}})}function ToggleExpandSeries(n){var t=$(n).data("serialid"),s=function(){var i=$(".detailSerieLine[data-serialId='"+t+"']");ToggleDetailVisibility(i,n)},h=$("#detailSerie-inner"+t),r,u,f;if(h.text()==""){if(r=[],unique($.grep(currentSeriesTypeViewDataD,function(n){return n.SId==t}).map(function(n){return n.SZ})).forEach(function(n){r.push({SeasonId:n,SeasonName:isNumeric(n)?"Season "+n:n})}),u=r.sort((n,t)=>n.SeasonName.localeCompare(t.SeasonName,undefined,{numeric:!0,sensitivity:"base"})),f=$.grep(currentSeriesTypeViewDataM,function(n){return n.Id==t}),u.length==0||f.length==0){console.warn("invalid data");return}var i=f[0],e='<table class="tableWrapper"><tr><td style="width:250px; vertical-align: top;">'+(i.Tr==null||i.Tr==""?'<img src="Imgs/'+(showingSeries?"Series":"Recordings")+"/poster-"+i.Id+'.jpg" data-movieId="'+i.Id+'">':"<a class='movieTrailerLink' href='https://www.youtube.com/watch?v="+i.Tr+"'><img src=\"Imgs/Series/poster-"+i.Id+'.jpg" data-movieId="'+i.Id+'"><\/a>')+'<\/td><td style="vertical-align: top;">',o=!0,c=function(n){var i='<table class="tableWrapper"><tr class="seasonLine noselect lineWithDetails"><td class="markerCol"><div class="markerSymbol sezonExpander '+(o?"expanded":"collapsed")+'" data-serialId="'+t+'" data-sezon="'+n.SeasonId+"\"><\/div><\/td><td colspan='6'>"+n.SeasonName+"<\/td><\/tr>",r=$.grep(currentSeriesTypeViewDataD,function(i){return i.SId==t&&i.SZ==n.SeasonId});return r.forEach(function(r){i+='<tr class="episoadeLine" data-serialId="'+t+'" data-sezon="'+n.SeasonId+'" data-episodeId="'+r.Id+'" style="'+(o?"display: table-row;":"display: none;")+'"><td style="width: 30px;"><\/td><td>'+r.FN+'<\/td><td class="detailCell w25">'+(r.Th==0?"":'<img src="Images\\thumbnail.png" class="infoSign movieStillDisplay" style="cursor: pointer;" title="Click to expand/collapse the thumbnails section for this file.\nPress CTRLCTRL while clicking to collapse all thumbnails sections in the current season." alt="^">')+'<\/td><td class="detailCell w100"><\/td><td class="detailCell w80">'+r.Q+'<\/td><td class="detailCell w100">'+r.S+'<\/td><td class="detailCell w100">'+r.A+'<\/td><td class="detailCell w125">'+r.Y+'<\/td><td class="detailCell w123">'+r.T+"<\/td><\/tr>"}),i+="<\/table>"};u.forEach(function(n){e+=c(n);o=!1});e+="<\/td><\/tr><\/table>";h.html(e);RebindSeriesEvents();s()}else s()}function ToggleExpandSezon(n){var t=$("tr[data-serialId='"+$(n).data("serialid")+"'][data-sezon='"+$(n).data("sezon")+"']");ToggleDetailVisibility(t,n)}function ToggleDetailVisibility(n,t){$(n).css("display")=="none"?($(t).removeClass("collapsed"),$(t).addClass("expanded"),$(n).css("display","table-row")):($(t).removeClass("expanded"),$(t).addClass("collapsed"),$(n).css("display","none"))}var currentSeriesTypeViewDataM,currentSeriesTypeViewDataD,showingSeries